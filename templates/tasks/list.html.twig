{% extends 'base.html.twig' %}

{% block body %}

<p>
  <a class="btn btn-primary" data-bs-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">
    Filter
  </a>
</p>
<div class="collapse" id="collapseExample">
  <div class="card card-body">
    {{ form(form, {"method" : "GET", "action" : path("task_list")}) }}
  </div>
</div>

    <table class="table">
        <tr>
         <th>Id</th>
         <th>Project</th>
         <th>Task name</th>
         <th>Task description</th>
         <th>Estimate</th>
         <th>Due date</th>
         <th>Completed?</th>
        </tr>
            {% for task  in tasks %}
                <tr>    
                    <td>{{ task.id }}</td>
                    <td>{{ task.project  }}</td>
                    <td>{{ task.name }}</td>
                    <td>{{ task.description }}</td>
                    <td>{{ task.estimate }}</td>
                    <td>{{ task.dueDate | date("d.m.Y") }}</td>
                    <td>{{ task.isCompleted }}</td>
                </tr>
            {% endfor %}
        
    </table>

{% endblock %}